<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Iniciar sesión • Smart City Tour</title>
  <style>
    :root{
      --bg:#0f172a; --panel:#111827; --text:#e5e7eb; --muted:#94a3b8;
      --accent:#22c55e; --border:#1f2937;
    }
    @media (prefers-color-scheme: light){
      :root{ --bg:#f1f5f9; --panel:#fff; --text:#0f172a; --muted:#475569; --accent:#16a34a; --border:#e5e7eb; }
    }
    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0; background:
        radial-gradient(1100px 700px at 15% -10%, rgba(34,197,94,.15), transparent 60%),
        radial-gradient(900px 600px at 120% 0%, rgba(59,130,246,.12), transparent 50%),
        var(--bg);
      color:var(--text); font-family:system-ui,-apple-system,Segoe UI,Inter,Roboto,sans-serif;
    }
    .shell{ min-height:100%; display:grid; place-items:center; padding:24px; }
    .card{
      width:min(420px, 92vw);
      background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:24px 22px;
      box-shadow:0 8px 24px rgba(0,0,0,.25);
    }
    .brand{ display:flex; gap:12px; align-items:center; margin-bottom:8px; }
    .brand img{ height:32px; }
    .brand h1{ font-size:18px; margin:0; }
    p.sub{ margin:.25rem 0 1rem; color:var(--muted); font-size:13px; }
    form{ display:grid; gap:12px; margin-top:10px; }
    .field{ display:grid; gap:6px; }
    label{ font-size:12px; color:var(--muted); }
    input{
      background:transparent; color:var(--text); border:1px solid var(--border); border-radius:10px;
      padding:10px 12px; outline:none;
    }
    input:focus{ border-color:var(--muted); }
    .actions{ display:flex; gap:8px; align-items:center; justify-content:space-between; margin-top:4px; }
    .btn{
      cursor:pointer; border:none; border-radius:10px; padding:10px 14px; font-weight:700;
      background:linear-gradient(135deg,var(--accent),#10b981); color:#052e16;
    }
    .ghost{ background:transparent; border:1px solid var(--border); color:var(--text); font-weight:600; }
    .msg{ margin:8px 0 0; color:#ef4444; font-size:13px; }
    .muted{ color:var(--muted); font-size:12.5px; }
    a{ color:#93c5fd; }
    .flash{ margin:8px 0 0; background:rgba(239,68,68,.12); border:1px solid rgba(239,68,68,.35); color:#fecaca; padding:8px 10px; border-radius:10px; font-size:13px; }
  </style>
</head>
<body>
  <div class="shell">
    <div class="card" role="dialog" aria-labelledby="title">
      <div class="brand">
        <img src="{{ url_for('static', filename='img/TUI_logo.png') }}" alt="TUI logo" />
        <h1 id="title">Iniciar sesión</h1>
      </div>
      <p class="sub">Accede para usar el chat y tus favoritos.</p>

      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class="flash">{{ messages[0] }}</div>
        {% endif %}
      {% endwith %}

      <form method="post" novalidate>
        <div class="field">
          <label for="username">Usuario o email</label>
          <input id="username" name="username" required autocomplete="username" autofocus />
        </div>
        <div class="field">
          <label for="password">Contraseña</label>
          <input id="password" name="password" type="password" required autocomplete="current-password" />
        </div>
        <div class="actions">
          <button class="btn" type="submit">Entrar</button>
          <a class="muted" href="{{ url_for('register') }}">Crear cuenta</a>
        </div>
      </form>
    </div>
  </div>
</body>
</html>
